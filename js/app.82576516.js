!function(){"use strict";var e,t={5730:function(e,t,r){var n={};r.r(n),r.d(n,{echo:function(){return M},exit:function(){return N},getAliasMap:function(){return O},ls:function(){return V},money:function(){return U},network:function(){return j},nick:function(){return I},ssh:function(){return A},uid:function(){return _}});var i=r(1644);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=o((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Game=t,this.functions=(0,i.$C)(t.FB.app),this.initUserData=(0,i.V1)(this.functions,"initUserData")})),u=(r(5666),r(1539),r(4747),r(4916),r(3123),r(8674),r(5503)),c=r(1591),h=r(9474);function f(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){f(a,n,i,o,s,"next",e)}function s(e){f(a,n,i,o,s,"throw",e)}o(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m={apiKey:"AIzaSyA2qhifXmyniOlmj7byorgIc1Ek71JoxOI",authDomain:"bytenet-1ae2e.firebaseapp.com",projectId:"bytenet-1ae2e",storageBucket:"bytenet-1ae2e.appspot.com",messagingSenderId:"463778527382",appId:"1:463778527382:web:b7053120b0aab8e986aab7",measurementId:"G-PP831X98S2"},d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Game=t,this.app=(0,u.ZF)(m),this.db=(0,c.ad)(this.app),this.auth=(0,h.v0)(this.app),(0,h.Aj)(this.auth,function(){var e=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return r.Game.Term.auth(),e.abrupt("return");case 3:r.Game.Term.userUid=t.uid,(0,c.cf)((0,c.JU)(r.db,"users",t.uid),(function(e){e.exists()&&(r.Game.Term.user=e.data(),"TERMINAL_STATE_PREAUTH"!=r.Game.Term.state&&"TERMINAL_STATE_LOGIN_PASSWORD"!=r.Game.Term.state&&"TERMINAL_STATE_LOGIN_CREATE"!=r.Game.Term.state||r.Game.Term.loggedIn())})),(0,c.cf)((0,c.IO)((0,c.hJ)(r.db,"servers")),function(){var e=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.Game.VMs.servers={},t.forEach(function(){var e=p(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data(),e.next=3,r.Game.VMs.handleServerData(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var t,r,n,i,a,o,s,f,d;return t=e,r=[{key:"login",value:(d=p(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Fb)(this.auth,h.a$);case 3:return e.next=5,(0,h.e5)(this.auth,t,r);case 5:e.next=27;break;case 7:e.prev=7,e.t0=e.catch(0),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?12:"auth/wrong-password"===e.t1?14:"auth/invalid-email"===e.t1?17:"auth/weak-password"===e.t1?20:23;break;case 12:return this.Game.Term.promptCreateAccount(),e.abrupt("break",27);case 14:return this.Game.Term.write("{red}Invalid password.{reset}"),this.Game.Term.auth(),e.abrupt("break",27);case 17:return this.Game.Term.write("{red}Email address is invalid.{reset}"),this.Game.Term.auth(),e.abrupt("break",27);case 20:return this.Game.Term.write("{red}Password should be stronger.{reset}"),this.Game.Term.auth(),e.abrupt("break",27);case 23:return this.Game.Term.write("{red}Unknown problem. Check console.{reset}"),this.Game.Term.auth(),console.log(e.t0),e.abrupt("break",27);case 27:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t){return d.apply(this,arguments)})},{key:"logout",value:(f=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.w7)(this.auth);case 2:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"create",value:(s=p(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Xb)(this.auth,t,r);case 3:return this.Game.Term.write("{green}User created.{reset}"),this.Game.Term.write("{green}Initializing user..{reset}"),e.next=7,this.Game.Funcs.initUserData({nick:t.split("@")[0]});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"updateUser",value:(o=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.r7)((0,c.JU)(this.db,"users",this.auth.currentUser.uid),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return o.apply(this,arguments)})},{key:"getServerData",value:(a=p(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,c.JU)(this.db,"servers",t),e.next=4,(0,c.QT)(r);case 4:if((n=e.sent).exists()){e.next=7;break}return e.abrupt("return",null);case 7:return i=n.data(),e.next=10,(0,c.QT)(i.owner);case 10:return i.owner=e.sent.data(),e.abrupt("return",n.data());case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e){return a.apply(this,arguments)})},{key:"getUserData",value:(i=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.QT)(t);case 3:return e.abrupt("return",e.sent.data());case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return i.apply(this,arguments)})},{key:"initializeServer",value:(n=p(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={ip:t,owner:(0,c.JU)(this.db,"users/"+this.auth.currentUser.uid)},e.next=4,(0,c.pl)((0,c.JU)(this.db,"servers",t),r);case 4:return e.abrupt("return",this.getServerData(t));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return n.apply(this,arguments)})}],r&&l(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=(r(5306),r(2320));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function w(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){w(a,n,i,o,s,"next",e)}function s(e){w(a,n,i,o,s,"throw",e)}o(void 0)}))}}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var i=R(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,r){return t&&G(e.prototype,t),r&&G(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(){var e=this,t={};return Object.keys(this).filter((function(e){return"getAliasMap"!=e})).forEach((function(r){e[r].aliases&&e[r].aliases().forEach((function(n){return t[n]=e[r]}))})),t}r(7327),r(7941),r(7042),r(9600),r(8304),r(489),r(2419),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948);var C=function(e){return new Promise((function(t){return setTimeout(t,e)}))},P=function(){function e(){S(this,e)}return E(e,null,[{key:"isVmCommand",value:function(){return!1}}]),e}(),L=function(){function e(){S(this,e)}return E(e,null,[{key:"isVmCommand",value:function(){return!0}}]),e}(),M=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Echos text back to the terminal."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(r),this.write(t.join(" "));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(P),_=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Returns your user id on the server."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.write(this.user.uid);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(P),A=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Connect to a remote server."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.connectedTo.length>0)){e.next=5;break}return this.write("You are already connected to a server."),e.abrupt("return");case 5:if(t){e.next=10;break}return this.write("Invalid address."),e.abrupt("return");case 10:if(!(t.length<this.Game.VMs.network.length)){e.next=15;break}return this.write("Invalid address: ".concat(t)),e.abrupt("return");case 15:if(t.substr(0,this.Game.VMs.network.length)==this.Game.VMs.network){e.next=18;break}return this.write("Address not in current network: ".concat(t)),e.abrupt("return");case 18:if(this.write("Connecting to {yellow}".concat(t,"{reset}..")),r=this.Game.VMs.getServer(t)){e.next=24;break}return e.next=23,this.Game.FB.initializeServer(t);case 23:r=this.Game.VMs.getServer(t);case 24:if(r.owner.uid==this.userUid){e.next=27;break}return this.write("You are not able to authenticate to this server."),e.abrupt("return");case 27:return e.next=29,C(1e3);case 29:this.write("\r\nConnected."),this.setConnection(t),this.updatePrompt();case 32:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(P),j=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Network settings."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.write("You are on the {yellow}".concat(this.Game.VMs.network,".x.x{reset} network."));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(P),I=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Nick settings."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.write("Your nick is {cyan}".concat(this.user.nick,"{reset}.")),e.abrupt("return");case 3:return e.next=5,this.Game.FB.updateUser({nick:t});case 5:this.write("Nick changed."),this.updatePrompt();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(P),N=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Logout."}},{key:"aliases",value:function(){return["logout"]}},{key:"prompt",value:function(){return!1}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.connectedTo.length>0)){e.next=6;break}return this.write("Disconnected."),this.setConnection(),this.updatePrompt(),this.prompt(),e.abrupt("return");case 6:this.logOut(),this.write("Logged out. Goodbye!");case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(P),U=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"help",value:function(){return"Displays how much money you have."}},{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.write("You have {green}$".concat(this.user.money,"{reset}."));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(P),V=function(e){g(n,e);var t,r=T(n);function n(){return S(this,n),r.apply(this,arguments)}return E(n,null,[{key:"run",value:(t=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.write("Test");case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(L);function B(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F={cursorBlink:!0,theme:{foreground:"#86eb8a",background:"#282a36",selection:"#97979b33",black:"#282a36",brightBlack:"#686868",red:"#ff5c57",brightRed:"#ff5c57",green:"#5af78e",brightGreen:"#5af78e",yellow:"#e7f24e",brightYellow:"#e7f24e",blue:"#57c7ff",brightBlue:"#57c7ff",magenta:"#ff6ac1",brightMagenta:"#ff6ac1",cyan:"#00e5ff",brightCyan:"#00e5ff",white:"#f1f1f0",brightWhite:"#eff0eb"}},H="TERMINAL_STATE_LOGIN_EMAIL",q="TERMINAL_STATE_LOGIN_PASSWORD",z="TERMINAL_STATE_LOGIN_CREATE",Y="TERMINAL_STATE_SHELL",J=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Game=t,this.command="",this.promptString="$ ",this.promptCutoff=2,this.state="TERMINAL_STATE_PREAUTH",this.loginEmail="",this.loginPassword="",this.user={},this.userUid="",this.history=[],this.isLoading=!1,this.connectedTo="",this.term=new v.Terminal(F),this.term.open(document.getElementById("terminal")),window.addEventListener("resize",(function(){return r.resize()})),this.resize(),this.greeting(),this.term.focus(),this.term.onData((function(e){switch(e){case"":r.term.write("^C"),r.command="",r.prompt();break;case"\r":if(0==r.command.length)return void r.prompt();r.runCommand();break;case"":r.term._core.buffer.x>r.promptCutoff&&(r.term.write("\b \b"),r.command.length>0&&(r.command=r.command.substr(0,r.command.length-1)));break;default:if(e>=String.fromCharCode(32)&&e<=String.fromCharCode(123)||e>=" "){if(r.state==q)r.term.write("*");else if(r.state==z){if(1==r.command.length||"y"!=e&&"Y"!=e&&"n"!=e&&"N"!=e)return;r.term.write(e)}else r.term.write(e);r.command+=e}}})),this.term.onKey((function(e){if("ArrowUp"==e.domEvent.code){var t=r.history[r.history.length-1];r.term.write(t),r.command=t}}))}var t,r,i,a;return t=e,r=[{key:"resize",value:function(){var e=Math.floor(window.innerHeight/19);this.term.resize(70,e)}},{key:"greeting",value:function(){this.write("Welcome to the [1;3;31mByteNet[0m!")}},{key:"auth",value:function(){this.state=H,this.command="",this.prompt("email: ")}},{key:"promptCreateAccount",value:function(){this.state=z,this.prompt("User not found. Create? (Y/N): ")}},{key:"setConnection",value:function(e){if(!e)return this.Game.VMs.div(this.connectedTo).classList.remove("connected"),void(this.connectedTo="");this.connectedTo=e,this.Game.VMs.div(e).classList.add("connected")}},{key:"removeColoring",value:function(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"")}},{key:"prompt",value:function(e){e&&(this.promptString=e,this.promptCutoff=this.removeColoring(this.promptString).length),0!=this.promptString.length&&(this.setLoadingState(!1),this.term.write("\r\n"+this.promptString))}},{key:"addToPrompt",value:function(e){this.write(e,!0),this.command+=e}},{key:"setLoadingState",value:function(e){this.isLoading=e,e?document.querySelector("#terminal-loading").classList.add("visible"):document.querySelector("#terminal-loading").classList.remove("visible")}},{key:"write",value:function(e,t){e=(e=(e=(e=(e=(e=e.replace(/\{red\}/g,"[31m")).replace(/\{green\}/g,"[32m")).replace(/\{yellow\}/g,"[33m")).replace(/\{magenta\}/g,"[35m")).replace(/\{cyan\}/g,"[36m")).replace(/\{reset\}/g,"[0m"),t?this.term.write(e):this.term.writeln(e)}},{key:"loggedIn",value:function(){this.write("\r\nLogged into the {yellow}".concat(this.Game.VMs.network,".x.x{reset} network.")),this.state=Y,this.updatePrompt(),this.prompt()}},{key:"logOut",value:function(){this.user={},this.userUid="",this.Game.FB.logout()}},{key:"updatePrompt",value:function(){var e="";this.connectedTo&&(e="[[33m"+this.connectedTo+"[0m] "),this.promptString=e+"([36m"+this.user.nick+"[0m) $ ",this.promptCutoff=this.removeColoring(this.promptString).length}},{key:"runCommand",value:(i=regeneratorRuntime.mark((function e(){var t,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setLoadingState(!0),this.state!=H){e.next=8;break}this.loginEmail=this.command,this.command="",this.state=q,this.prompt("password: "),e.next=46;break;case 8:if(this.state!=q){e.next=15;break}this.loginPassword=this.command,this.command="",this.write("\r\n\nValidating credentials.."),this.Game.FB.login(this.loginEmail,this.loginPassword),e.next=46;break;case 15:if(this.state!=z){e.next=20;break}"y"==this.command.toLowerCase()?(this.Game.FB.create(this.loginEmail,this.loginPassword),this.write("")):"n"==this.command.toLowerCase()&&(this.write("\r\n"),this.auth()),this.command="",e.next=46;break;case 20:if(this.state!=Y){e.next=46;break}if(t=this.command.split(" "),this.history.push(this.command),this.command="",this.write(""),r=t.shift().toLowerCase(),i=n[r]||null){e.next=36;break}if(!(a=O())[r]){e.next=33;break}i=a[r],e.next=36;break;case 33:return this.write("Command not found: "+r),this.prompt(),e.abrupt("return");case 36:if(!i.isVmCommand()||0!=this.connectedTo.length){e.next=41;break}return this.write("You must be connected to a server first."),this.prompt(),e.abrupt("return");case 41:return e.next=43,i.run.apply(this,t);case 43:o=!0,i.prompt&&(o=i.prompt.apply(this,t)),o&&this.prompt();case 46:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=i.apply(e,t);function o(e){B(a,r,n,o,s,"next",e)}function s(e){B(a,r,n,o,s,"throw",e)}o(void 0)}))},function(){return a.apply(this,arguments)})}],r&&D(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(2222);var Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Game=t,this.container=document.querySelector(".vm-container"),this.network="25.240",this.servers={},this.setup()}var t,r,n,i;return t=e,r=[{key:"_addVMsToRow",value:function(e,t){for(var r=this,n=function(n){var i="".concat(r.network,".").concat(e+1,".").concat(n+1),a=document.createElement("div");a.className="vm",a.setAttribute("ip",i);var o=document.createElement("div");o.className="ip-address",o.innerText=i,a.appendChild(o);var s=document.createElement("div");s.className="owner",a.appendChild(s);var u=document.createElement("div");u.className="specs",a.appendChild(u),a.addEventListener("click",(function(){r.Game.Term.addToPrompt(i),r.Game.Term.term.focus()})),t.appendChild(a)},i=0;i<=8;i++)n(i)}},{key:"setup",value:function(){for(var e=0;e<=8;e++){var t=document.createElement("div");t.className="row-container",this.container.appendChild(t),this._addVMsToRow(e,t)}}},{key:"getServer",value:function(e){return this.servers[e]?this.servers[e]:null}},{key:"div",value:function(e){return this.container.querySelector('[ip="'.concat(e,'"]'))}},{key:"handleServerData",value:(n=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ip.substr(0,this.network.length)==this.network){e.next=2;break}return e.abrupt("return");case 2:if(!t.owner){e.next=16;break}return e.next=5,this.Game.FB.getUserData(t.owner);case 5:t.owner=e.sent,document.querySelector('[ip="'.concat(t.ip,'"]')).classList.add("owned"),document.querySelector('[ip="'.concat(t.ip,'"] .owner')).innerHTML='<div class="name">'.concat(t.owner.nick,"</div>"),(r=document.querySelector('[ip="'.concat(t.ip,'"] .specs'))).innerHTML="<div>",r.innerHTML+='<div>cpu: <span class="stat">100m</span></div>',r.innerHTML+='<div>mem: <span class="stat">1Gi</span></div>',r.innerHTML+='<div>disk: <span class="stat">100Gi</span></div>',r.innerHTML+="</div>";case 16:this.Game.VMs.servers[t.ip]=t,console.log("updated server",t);case 18:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){$(a,r,i,o,s,"next",e)}function s(e){$(a,r,i,o,s,"throw",e)}o(void 0)}))},function(e){return i.apply(this,arguments)})}],r&&W(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),X={};X.FB=new d(X),X.Term=new J(X),X.VMs=new Q(X),X.Funcs=new s(X),window.Game=X}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=function(t,r,i,a){if(!r){var o=1/0;for(h=0;h<e.length;h++){r=e[h][0],i=e[h][1],a=e[h][2];for(var s=!0,u=0;u<r.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(s=!1,a<o&&(o=a));if(s){e.splice(h--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[r,i,a]},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)var h=u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(h)},r=self.webpackChunkwebpack_starter=self.webpackChunkwebpack_starter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=n.O(void 0,[918],(function(){return n(5730)}));i=n.O(i)}();
//# sourceMappingURL=app.82576516.js.map